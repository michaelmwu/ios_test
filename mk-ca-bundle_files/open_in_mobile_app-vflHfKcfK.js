// Generated by CoffeeScript 1.7.1
define(['jquery', 'modules/core/uri'], function($j, URI) {
  var OpenInMobileApp;
  OpenInMobileApp = (function() {
    function OpenInMobileApp() {}

    OpenInMobileApp.try_open = function(app_url, fallback_app_url) {
      var $body, launch_in_iframe;
      $body = $j('body');
      launch_in_iframe = function(url) {
        var $launch_iframe;
        $launch_iframe = $j('<iframe />', {
          src: url,
          style: 'display: none;'
        });
        return $body.append($launch_iframe);
      };
      launch_in_iframe(app_url);
      return setTimeout((function() {
        return launch_in_iframe(fallback_app_url);
      }), 400);
    };

    OpenInMobileApp.open_on_click = function(app_url, fallback_app_url, element) {
      var try_open_handler;
      try_open_handler = (function(_this) {
        return function(e) {
          e.preventDefault();
          return _this.try_open(app_url, fallback_app_url);
        };
      })(this);
      return $j(element).on('click', try_open_handler);
    };

    return OpenInMobileApp;

  })();
  return OpenInMobileApp;
});

//# sourceMappingURL=open_in_mobile_app.map
